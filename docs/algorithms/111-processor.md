# ABT-1.1.1-Processor: 적절한 대체 텍스트 제공 v0.11

### 🔗 References
- KWCAG 2.2: 1.1.1 적절한 대체 텍스트 제공
- WCAG 2.2: 1.1.1 Non-text Content (A) (Reference)

---

## 1. 데이터 수집 단계 (Data Collection)
대상 요소(`img`, `role="img"`, `svg` 등)를 발견하면 다음 정보를 수집한다.
- **Target:** 대상 요소의 `alt`, `aria-label`, `title` 값.
- **Parent Context:** 상위 요소 중 `<a>`, `<button>`, `role="button/link"` 존재 여부 및 부모의 접근성 이름(Accessible Name).
- **Smart Context:** 요소 전후 50~100자 내외의 텍스트 노드 콘텐츠.
- **Background Images:** CSS `background-image`가 적용된 주요 컨테이너 요소로부터 이미지 URL 추출.
- **Exhaustive Scan:** '오류' 항목뿐만 아니라 페이지 내의 모든 이미지 요소(img, svg, bg-img)를 전수 수집하여 분석 기반 데이터로 활용.
## 2. 분석 및 분류 로직 (Analysis Pipeline)

### [단계 A] 기술적 결함 검사 (Technical Defect)
- **Rule 1.1:** 대체 수단(`alt` 등)이 아예 없는가? → **[오류]** (기술적 결함 알림 및 수정 요청)
- **Rule 1.2:** 요소가 `Functional`인데 부모와 자신 모두 이름이 없는가? → **[오류]**
- **Rule 1.3:** CSS `background-image`를 통해 정보를 전달하는 요소에 대체 수단(`aria-label` 등)이 없는가?
  - 만약 이미지 대체 기법(IR)이 감지되어 숨겨진 텍스트가 존재한다면: **[적절]** (해당 텍스트를 대체 텍스트로 인정)
  - 숨겨진 텍스트도 없다면: **[검토 필요]** (수동 확인 유도)
### [단계 B] 금지어 및 중복 표현 검사 (Redundant Phrases)
- **Rule 2.1:** `alt` 값에 금지어("이미지", "사진", "아이콘", "그림" 등)가 포함되어 있는가? 
  - 결과: **[수정 권고]** (Recommendation)
  - 가이드: "이미 해당 요소가 그래픽임을 안내하고 있으므로 불필요한 단어 삭제를 **수정 권고(요청)하세요.**"

### [단계 C] 맥락적 중복/부적절 검사 (Contextual Redundancy & Inappropriateness)
- **Rule 3.1:** `alt` 값과 `Smart Context` 간의 유사도를 분석한다.
  - 유사도 90% 이상: **[부적절]** (Inappropriate - 사용자 피로 유발 가능성)
  - 가이드: "주변 정보와 중복되어 사용자에게 혼란을 줄 수 있습니다. **장식용(alt="") 처리를 요청하세요.**"
  - 유사도 50%~90%: **[검토 필요]** (Needs Review - 사람의 판단 필요)

### [단계 D] 기능적 적절성 검사 (Functional Appropriateness)
- **Rule 4.1:** 요소가 `Functional` 부모(`<a>`, `<button>` 등) 안에 있는가?
  - 결과: **[검토 필요]** (Needs Review - 기능형 이미지 가능성 감지)
  - 가이드: "대화형 요소 내 이미지입니다. 외형(예: 돋보기, QR 코드)이 아닌 목적(예: 검색, 페이지 이동)을 설명하고 있는지 확인 후 **적절한 수정을 요청하세요.**"
- **Rule 4.2 (Redundancy Omission):** 동일한 대화형 요소 내에 텍스트 레이블이 이미 존재하는가?
  - 결과: **[적절]**
  - 가이드: "중복 정보 제공을 방지하기 위해 대체 텍스트를 비움(alt="") 처리한 것은 **적절한 구현입니다.**"

## 3. 최종 상태 정의 (Final Status)

1.  **오류:** 표준 지침 위반. 반드시 수정이 필요한 기술적 결함.
2.  **부적절:** 대체 수단이 존재하나 맥락에 맞지 않거나 의미가 잘못 전달됨.
3.  **수정 권고:** 품질 저하 요인. 표준 위반은 아니나 개선 권장.
4.  **검토 필요:** 기계가 판단할 수 없는 맥락적 불일치 가능성.
5.  **적절:** 적절한 대체 수단 제공됨.
## 4. 데이터 중복 방지 전략 (Deduplication)
- 동일한 지침 ID, 셀렉터, 이미지 URL(`src`), 그리고 대체 텍스트(`alt`)가 모두 일치할 때만 중복으로 간주하여 리포트의 신뢰성을 확보한다.
- 배경 이미지의 경우 스타일 URL을 추출하여 기술적 식별자로 활용한다.
