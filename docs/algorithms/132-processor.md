# ABT-1.3.2-Processor: 콘텐츠의 선형구조 알고리즘 v1.1

### 🔗 KWCAG 2.2 Reference
- **1.3.2 (의미 있는 콘텐츠 순서)**: 콘텐츠는 논리적인 순서로 제공되어야 한다.

---

이 알고리즘은 **KWCAG 1.3.2(콘텐츠의 선형 구조)** 지침을 준수하며, 콘텐츠가 선형화(스크린 리더 등 보조공학기기 읽기 순서)되었을 때 논리적인 흐름을 유지하는지 진단한다. 특히 헤딩(Heading) 구조를 통한 정보의 계층적 선형화를 분석하여 문서 개요(Heading Outline)를 생성한다.

## 1. 데이터 수집 단계 (Data Collection)
- **DOM Order:** 문서 내 요소의 출현 순서 및 계층 구조.
- **Heading Outline:** `<h1>` ~ `<h6>` 요소의 순차적 리스트, 텍스트, 레벨.
- **CSS Layout:** `flex-direction`, `grid`, `order` 등 순서 변경 속성.

## 2. 분석 및 분류 로직 (Analysis Pipeline)

### [단계 A] 헤딩 개요 및 논리적 위계 분석 (Heading Outline)
- **Rule 1.1 (헤딩 아웃라인 생성):** 페이지 내 모든 헤딩을 수집하여 시각적 트리 구조 데이터를 리포트에 포함한다.
- **Rule 1.2 (계층 위반 - Skip Level):** 
  - `h1` -> `h3`와 같이 중간 레벨을 건너뛰어 정보의 연결성이 끊긴 경우.
  - 결과: **[수정 권고]**.

### [단계 B] 시각적-논리적 순서 불일치 검사
- **Rule 2.1 (CSS 순서 변경):** 
  - CSS `order` 또는 `flex-direction: reverse` 등을 사용하여 마크업 순서와 실제 보이는 순서가 다른 경우.
  - 결과: **[검토 필요]**.

### [단계 C] 탭 순서 및 레이아웃 표
- **Rule 3.1 (Aria-flowto):** `aria-flowto` 속성을 사용하여 읽기 순서를 인위적으로 제어한 경우.
  - 결과: **[검토 필요]**.
- **Rule 3.2 (레이아웃 표):** 레이아웃용 표(`role="presentation"`) 사용 시 콘텐츠가 논리적으로 읽히는지 확인.
  - 결과: **[검토 필요]**.

## 3. 최종 상태 정의 (Final Status)
1. **오류:** (없음 - 선형 구조는 대부분 정성적 판단이 필요함)
2. **부적절:** 양수 `tabindex`, 명백한 읽기 순서 왜곡.
3. **수정 권고:** 헤딩 레벨 건너뛰기, 불필요한 시각적 순서 변경.
4. **검토 필요:** 복잡한 레이아웃 속성 사용, 문서 전체 개요(Outline) 확인.
5. **적절:** 헤딩 구조가 논리적이며 시각적 배치와 마크업 순서가 일치함.
