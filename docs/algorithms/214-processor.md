# ABT-2.1.4-Processor: 문자 단축키 v0.11

### 🔗 References
- KWCAG 2.2: 2.1.4 문자 단축키
- WCAG 2.2: 2.1.4 Character Key Shortcuts (A) (Reference)

---

이 알고리즘은 **KWCAG 2.1.4(문자 단축키)** 지침을 준수하며, 특수키(Ctrl, Alt 등) 조합 없는 단일 문자 단축키에 대한 제어 수단 제공 여부를 진단한다. 브라우저 확장 프로그램의 정적 분석 한계를 고려하여, 인라인 이벤트 핸들러의 취약점을 탐지하고 전역적인 수동 검토를 유도하는 방식을 취한다.

## 1. 데이터 수집 단계 (Data Collection)
- **Inline Keyboard Listeners:** 문서 내의 `onkeydown`, `onkeyup`, `onkeypress` 속성이 적용된 요소 탐색.
- **Event Properties:** 추출된 핸들러 문자열 내에서 `ctrlKey`, `altKey`, `metaKey` 키워드 검사.

## 2. 분석 및 분류 로직 (Analysis Pipeline)

### [단계 A] 인라인 단일 문자 단축키 의심 구문 탐지
- **Rule 1.1 (조합키 방어 로직 부재):** 
  - 인라인 키보드 이벤트 핸들러가 존재하나, 코드 내에 `ctrlKey`, `altKey`, `metaKey` 등의 특수키 검사 로직이 없는 경우.
  - 분석: 사용자가 입력창이 아닌 곳에서 일반 문자(J, K 등)를 눌렀을 때 특정 기능이 실행될 가능성이 높음.
  - 결과: 발견 시 **[검토 필요]** 리포트 생성.

### [단계 B] 전역 스크립트 기반 단축키 수동 검토 (Global Check)
- **Rule 2.1 (수동 검토 유도):** 
  - JavaScript 이벤트 리스너(`addEventListener`)로 등록된 전역 단축키는 정적 분석으로 완벽히 탐지하기 어려움.
  - 분석: 페이지의 최상위(`document`, `body`)를 대상으로 일반적인 확인 가이드를 항상 제공함.
  - 결과: 무조건 **[검토 필요]** 상태로 리포트. "단일 문자 단축키가 있다면 이를 끄거나 변경할 수 있는 설정이 있는지 확인하세요" 안내.

## 3. 최종 상태 정의 (Final Status)
1. **검토 필요:** 
   - 특수키 검사가 누락된 인라인 키보드 이벤트가 발견된 경우.
   - (기본 상태) 페이지 내 전역 단축키 사용 여부 및 제어 수단 제공 여부를 전문가가 직접 확인해야 함.
2. **적절:** (전문가가 '검토 필요' 항목을 확인 후 단축키가 없거나 제어 수단이 완비되었다고 판정한 경우에만 적용)
3. **오류:** 단일 문자 단축키가 존재하나, 이를 끄거나 재매핑할 수 있는 방법이 전혀 없는 경우 (전문가 판정에 따름).
