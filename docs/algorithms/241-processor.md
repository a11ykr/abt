# ABT-2.4.1-Processor: 반복 영역 건너뛰기 알고리즘 v1.0

### 🔗 WCAG 2.2 Reference
- **SC 2.4.1 Bypass Blocks (Level A)**: A mechanism is available to bypass blocks of content that are repeated on multiple Web pages.

---

이 알고리즘은 **KWCAG 2.4.1(반복 영역 건너뛰기)** 지침을 준수하며, 페이지 상단에 반복되는 메뉴나 네비게이션을 건너뛰고 본문으로 직접 이동할 수 있는 '건너뛰기 링크(Skip Navigation)'의 유효성을 진단한다.

## 1. 데이터 수집 단계 (Data Collection)
- **Skip Links:** 페이지 최상단(DOM 순서상 앞부분)에 위치한 내부 링크(`<a>` 태그의 `href`가 `#`으로 시작).
- **Landmarks:** HTML5 시맨틱 태그(`main`, `nav`, `header`, `footer`) 및 ARIA 랜드마크(`role="main"` 등).
- **Target Elements:** 건너뛰기 링크가 가리키는 대상 ID(`id`)의 존재 여부 및 가시성.

## 2. 분석 및 분류 로직 (Analysis Pipeline)

### [단계 A] 건너뛰기 링크 존재 여부 및 위치 검사
- **Rule 1.1 (최상단 배치):** 
  - `body` 태그 시작 후 첫 번째 또는 초기 포커스 가능한 요소 중 하나가 건너뛰기 링크인가?
  - 결과: 부재 시 **[오류]**.
- **Rule 1.2 (가시성 및 초점):**
  - 링크가 평소에는 숨겨져 있더라도 키보드 초점(`:focus`)을 받았을 때 화면에 표시되는가?
  - 결과: 숨겨진 채로 초점만 지나가면 **[부적절]**.

### [단계 B] 대상(Target) 유효성 검사
- **Rule 2.1 (대상 존재):** 
  - `href="#main"`이 가리키는 `id="main"` 요소가 페이지 내에 존재하는가?
  - 결과: 부재 시 **[오류]** (작동하지 않는 링크).
- **Rule 2.2 (본문 시작점):** 
  - 링크가 가리키는 대상이 실제로 반복 영역(메뉴 등) 이후의 본문 시작점인가?
  - 결과: 메뉴 중간으로 이동 시 **[부적절]**.

### [단계 C] 랜드마크 보조 진단
- **Rule 3.1 (시맨틱 태그):**
  - `<main>` 태그 또는 `role="main"`이 적절히 사용되었는가? 건너뛰기 링크와 랜드마크가 상호 보완적인지 확인.

## 3. 최종 상태 정의 (Final Status)
1. **오류:** 건너뛰기 링크가 아예 없거나, 링크는 있으나 대상 ID가 존재하지 않아 작동하지 않는 경우.
2. **부적절:** 링크가 존재하지만 키보드 접근 시 시각적으로 표시되지 않거나, 본문이 아닌 엉뚱한 곳으로 이동하는 경우.
3. **수정 권고:** 건너뛰기 링크가 하나만 제공되어 다양한 본문 영역(예: 서브 메뉴 건너뛰기)으로의 접근이 부족한 경우.
4. **검토 필요:** 복잡한 Single Page Application(SPA)에서 라우팅 변경 시 초점 관리가 적절한지 확인.
5. **적절:** 작동하는 건너뛰기 링크가 최상단에 배치되어 있으며, 초점 획득 시 시각적으로 명확히 표시됨.
