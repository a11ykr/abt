# ABT-3.1.1-Processor: 기본 언어 표시 알고리즘 v1.0

### 🔗 KWCAG 2.2 Reference
- **3.1.1 (기본 언어 표시)**: 주로 사용하는 언어를 명시해야 한다.

---

이 알고리즘은 **KWCAG 3.1.1(기본 언어 표시)** 지침을 준수하며, 웹 페이지의 최상위 요소(`<html>` 등)에 문서가 주로 사용하는 기본 언어가 올바르고 명확하게 정의되어 있는지 진단한다.

## 1. 대상 식별 및 데이터 수집 (Data Collection)

### [대상 요소 추출]
- 페이지 최상위 루트 요소: `<html>` 태그

### [데이터 속성 파악]
- `<html>` 요소의 `lang` 속성 값
- `<html>` 요소의 `xml:lang` 속성 값 (XHTML인 경우)

## 2. 분석 및 분류 로직 (Analysis Pipeline)

### [단계 A] 속성 존재 여부 검사
- `lang` 속성이 존재하는가?
- 결과: 속성 자체가 없거나 비어 있으면 **[부적절]**.

### [단계 B] 언어 코드 유효성 검사 (Validity)
- 명시된 언어 코드가 표준 규격(BCP 47, ISO 639 등)을 준수하는가?
  - 예: `ko`, `en`, `zh-CN`, `ja` 등
- 결과: 올바르지 않은 형식의 언어 코드가 기입된 경우 **[부적절]**.

### [단계 C] 콘텐츠 언어 일치 검토 (정성 평가)
- 명시된 `lang` 속성의 언어와 실제 페이지의 주요 텍스트 콘텐츠 언어가 일치하는가?
  - *참고: 기계적으로 완벽한 언어 추론은 한계가 있으므로, 특정 휴리스틱(문자셋 패턴 등)을 이용해 1차 필터링을 하고, 결과적으로는 전문가의 최종 확인을 유도함.*
- 결과: 명시된 언어 코드와 실제 본문의 언어가 상이할 가능성이 높으면 **[검토 필요]**.

## 3. 최종 상태 정의 (Final Status)
1. **부적절 (Warning):**
   - `<html>` 태그에 `lang` 속성이 제공되지 않음.
   - `lang` 속성 값이 비어 있거나 올바르지 않은 형식임.
2. **검토 필요 (Review):**
   - `lang` 속성 값과 실제 본문 텍스트 언어가 불일치할 것으로 의심됨.
3. **적절 (Pass):**
   - 유효한 언어 코드가 제공되었으며, 예외 사항이 발견되지 않음.
