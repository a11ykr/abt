# ABT-5.1.1-Processor: 적절한 대체 텍스트 제공 알고리즘 v1.0

이 알고리즘은 WCAG/KWCAG 5.1.1 지침을 준수하며, 기존 자동화 도구(axe-core 등)가 놓치는 **'맥락적 적절성'**과 **'정성적 품질'**을 판별하는 데 집중한다.

## 1. 데이터 수집 단계 (Data Collection)
대상 요소(`img`, `role="img"`, `svg` 등)를 발견하면 다음 정보를 수집한다.
- **Target:** 대상 요소의 `alt`, `aria-label`, `title` 값.
- **Parent Context:** 상위 요소 중 `<a>`, `<button>`, `role="button/link"` 존재 여부 및 부모의 접근성 성명(Accessible Name).
- **Smart Context:** 요소 전후 50~100자 내외의 텍스트 노드 콘텐츠.

## 2. 분석 및 분류 로직 (Analysis Pipeline)

### [단계 A] 기술적 결함 검사 (Technical Defect)
- **Rule 1.1:** 대체 수단(`alt` 등)이 아예 없는가? → **[오류]** (기술적 결함 알림 및 수정 요청)
- **Rule 1.2:** 요소가 `Functional`인데 부모와 자신 모두 이름이 없는가? → **[오류]**

### [단계 B] 금지어 및 중복 표현 검사 (Redundant Phrases)
- **Rule 2.1:** `alt` 값에 금지어("이미지", "사진", "아이콘", "그림" 등)가 포함되어 있는가? 
  - 결과: **[수정 권고]** (Recommendation)
  - 가이드: "이미 해당 요소가 그래픽임을 안내하고 있으므로 불필요한 단어 삭제를 **수정 권고(요청)하세요.**"

### [단계 C] 맥락적 중복/부적절 검사 (Contextual Redundancy & Inappropriateness)
- **Rule 3.1:** `alt` 값과 `Smart Context` 간의 유사도를 분석한다.
  - 유사도 90% 이상: **[부적절]** (Inappropriate - 사용자 피로 유발 가능성)
  - 가이드: "주변 정보와 중복되어 사용자에게 혼란을 줄 수 있습니다. **장식용(alt="") 처리를 요청하세요.**"
  - 유사도 50%~90%: **[검토 필요]** (Needs Review - 사람의 판단 필요)

### [단계 D] 기능적 적절성 검사 (Functional Appropriateness)
- **Rule 4.1:** 요소가 `Functional` 부모(`<a>`, `<button>` 등) 안에 있는가?
  - 결과: **[검토 필요]** (Needs Review - 기능형 이미지 가능성 감지)
  - 가이드: "대화형 요소 내 이미지입니다. 외형(예: 돋보기, QR 코드)이 아닌 목적(예: 검색, 페이지 이동)을 설명하고 있는지 확인 후 **적절한 수정을 요청하세요.**"

## 3. 최종 상태 정의 (Final Status)

1.  **오류:** 표준 지침 위반. 반드시 수정이 필요한 기술적 결함.
2.  **부적절:** 대체 수단이 존재하나 맥락에 맞지 않거나 의미가 잘못 전달됨.
3.  **수정 권고:** 품질 저하 요인. 표준 위반은 아니나 개선 권장.
4.  **검토 필요:** 기계가 판단할 수 없는 맥락적 불일치 가능성.
5.  **적절:** 적절한 대체 수단 제공됨.
