# ABT-7.2.2-Processor: 찾기 쉬운 도움 정보 알고리즘 v1.2

### 🔗 KWCAG 2.2 Reference
- **7.2.2 (찾기 쉬운 도움 정보)**: 도움 정보가 제공되는 경우, 각 페이지에서 동일한 상대적인 순서로 접근할 수 있어야 한다.

---

이 알고리즘은 **KWCAG 7.2.2(찾기 쉬운 도움 정보)** 지침을 준수하며, 웹 사이트 내에서 사용자가 문제 해결을 위해 제공받는 연락처, FAQ, 도움말, 채팅 봇 등의 요소가 여러 페이지에 걸쳐 **시각적인 위치뿐만 아니라 마크업 순서 모두 일관성 있게 구현**되었는지 진단한다.

> 💡 **아키텍처 제약 및 ABT 통합 분석 모델**
> 브라우저 확장 프로그램(Content Script)은 현재 열려있는 단일 페이지의 DOM만 분석할 수 있으므로, 다중 페이지 간 일관성을 브라우저 내에서 직접 대조하는 것은 불가능하다.
> 따라서 본 지침은 **[브라우저 엔진: 스냅샷 추출기]**와 **[데스크탑 앱: 교차 페이지 대조기]**로 역할을 분담하여 하이브리드 방식으로 분석을 수행한다.

## 1. 대상 식별 및 데이터 수집 (브라우저 확장 엔진 역할)

### [대상 요소 추출]
- 페이지 내 반복적으로 제공되는 다음 유형의 사용자 도움 정보 식별:
  1. **담당자 상세 연락처**: 전화번호, 이메일, 주소, 운영시간 등
  2. **담당자 연락 방법**: 메신저, 채팅창, 게시판, SNS 등
  3. **도움말 옵션**: FAQ, 사용법 등
  4. **자동화된 연결 방법**: 챗봇 링크 또는 버튼 등

### [데이터 속성 파악 (Payload 생성)]
- 추출된 도움 정보 요소의 DOM 트리 내 구조적 경로(XPath 또는 CSS Selector 패턴).
- 추출된 도움 정보 요소의 시각적 렌더링 좌표(Bounding Box)와 화면 내 위치(예: 하단 footer, 우측 하단 고정).
- 현재 페이지 URL과 요소의 메타데이터를 포함한 JSON 객체를 생성하여 IPC를 통해 데스크탑 앱으로 전송.

## 2. 분석 및 분류 로직 (데스크탑 앱(Electron) 역할)

### [단계 A] 다중 페이지 간 시각적 위치 일관성 분석 (Aggregator)
- IPC를 통해 수신된 여러 페이지(URL)의 도움 정보 스냅샷들을 데스크탑 앱의 Store(Zustand 등)에 저장한다.
- 서로 다른 URL에서 수집된 동일 유형 도움 정보 요소 간의 **시각적 렌더링 좌표(위치 오차범위)**를 대조한다.
- 결과: 페이지마다 도움 정보의 렌더링 위치가 명확하게 다를 경우, 데스크탑 앱이 자체적으로 해당 항목의 상태를 **[부적절]**로 격상시킴.

### [단계 B] 다중 페이지 간 마크업 순서 일관성 분석 (Aggregator)
- 여러 페이지 스냅샷들의 **마크업 내 상대적 순서(DOM 트리 상의 XPath 깊이 및 인덱스)**를 대조한다.
- 결과: 시각적 위치는 비슷하지만 DOM 구조(마크업 순서) 상에서 각 페이지마다 구조가 상이하면 스크린 리더 사용자에게 혼동을 주므로 **[부적절]**로 격상.

### [단계 C] 사이트 수준 종합 판단 (전문가 정성 평가)
- 자동화 도구가 완벽히 식별해내지 못하는 영역(예: A페이지는 FAQ 텍스트 링크, B페이지는 채팅 위젯으로 제공 방식이 아예 달라진 경우 등)에 대해 전문가는 데스크탑 앱에 수집된 스냅샷 목록을 보며 크로스 체킹을 수행한다.
- 결과: 자동 대조 로직상 일관성 오차가 없더라도, 100% 기계 판단이 불가하므로 기본 상태는 **[검토 필요]**로 유도됨.

## 3. 최종 상태 정의 (Final Status)
1. **부적절 (Warning):**
   - 데스크탑 앱의 다중 페이지 대조 결과, 도움 정보(전화번호, 이메일, 챗봇 등)의 **시각적인 위치**가 페이지별로 확연히 다르게 수집된 경우.
   - 데스크탑 앱의 다중 페이지 대조 결과, 도움 정보의 **마크업 순서(DOM XPath 구조)**가 페이지별로 상이하게 나타나는 경우.
2. **검토 필요 (Review):**
   - 1개 이상의 페이지에서 도움 정보 스냅샷이 수집되어 데스크탑 앱에 대기 중인 상태. 전문가는 수집된 스냅샷과 좌표를 통해 여러 페이지 간의 일관성을 육안/구조적으로 크로스 체킹해야 함.
3. **적절 (Pass):**
   - 수집된 여러 페이지의 도움 정보가 시각적 위치 및 마크업 순서 모두 일관성 있게 구현됨을 데스크탑 도구의 오차 분석기 및 전문가가 최종 확인함.
4. **N/A:**
   - 데스크탑 앱에 수집된 어떠한 형태의 도움 정보(연락처, FAQ 등) 데이터 스냅샷도 없음.
