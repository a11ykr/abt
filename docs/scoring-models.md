# ABT 점수 산정 모델 (Scoring Models)

ABT는 지침의 검사 방식과 성격에 따라 두 가지 상이한 점수 산정 모델을 사용합니다. 이를 통해 페이지 규모나 이슈 발견 방식에 상관없이 합리적인 정량 지표를 제공합니다.

## 1. 전수 조사형 모델 (Exhaustive Scan Model)

페이지 내의 해당 대상을 모두 수집하여 분석하는 지침에 적용됩니다. 발견된 전체 요소 중 적절하게 구현된 요소의 비율을 점수화합니다.

### 📋 대상 지침
| ID | 지침명 | 검사 대상 |
| :--- | :--- | :--- |
| **1.1.1** | 적절한 대체 텍스트 제공 | 모든 이미지, SVG, 배경 이미지 등 |
| **1.3.1** | 표의 구성 | 모든 `<table>` 요소 |
| **2.1.1** | 키보드 사용 보장 | 모든 대화형 요소 (버튼, 링크, 입력창 등) |
| **1.4.3** | 텍스트 콘텐츠의 명도 대비 | 모든 텍스트 노드 (가중치 요약 리포트 적용) |
| **2.4.2** | 제목 제공 | `<title>`, `<iframe>`, `<h1>` |
| **2.4.3** | 적절한 링크 텍스트 | 모든 `<a>`, `role="link"` 요소 |
| **2.5.3** | 레이블과 네임 | 모든 시각적 텍스트가 포함된 컨트롤 |
| **3.1.1** | 기본 언어 표시 | 페이지의 최상위 `<html>` 요소 |
| **3.3.2** | 레이블 제공 | 모든 입력 폼 요소 (`input`, `select`, `textarea`) |

### 🧮 계산 공식
$$Score = \frac{\sum (적절 항목 가중치 \times 1.0) + \sum (검토 필요 항목 가중치 \times 0.5)}{\sum (전체 항목 가중치)} \times 100$$

*   **가중치 기반 요약 리포트 (Weighted Summary Report)**: 
    *   **1.4.3 명도 대비**와 같이 검사 대상(텍스트 노드)이 수천 개에 달할 수 있는 지침의 경우, 성능 저하(UI 렌더링 락)를 방지하기 위해 사용됩니다.
    *   엔진은 오류나 검토가 필요한 항목만 개별 카드로 전송하고, **통과(Pass)한 수많은 항목들은 `passCount`라는 가중치를 가진 단 1개의 가상 리포트**로 묶어 전송합니다.
    *   UI의 점수 산정 로직은 이 `passCount`를 전체 모수(Total)와 적절 모수(Pass)에 더하여, 수천 개의 노드를 전수 조사한 것과 동일하고 공정한 위배율(%) 기반 점수를 도출해냅니다.
*   **특징**: 대상이 많을수록 소수의 오류가 전체 점수에 미치는 영향이 완만합니다.

---

## 2. 이슈 기반 감점 모델 (Issue-based Deduction Model)

전수 조사가 어렵거나, 특정 오류 패턴이 발견될 때만 리포트를 생성하는 지침에 적용됩니다. 100점에서 시작하여 오류가 발견될 때마다 점수를 삭감하는 방식을 사용합니다.

### 📋 대상 지침
| ID | 지침명 | 비고 |
| :--- | :--- | :--- |
| **2.1.2** | 초점 이동과 표시 | 포커스 가시성 이슈 발견 시 |
| **4.1.1** | 마크업 오류 방지 | 문법/중복 ID 등 오류 발견 시 |
| **기타** | 전수 조사형을 제외한 나머지 | 수동 검사 안내 및 특정 패턴 탐지 |

### 🧮 계산 공식 (비선형 감쇄 모델)
$$Score = 100 \times 0.8^{오류 수} \times 0.95^{검토 필요 수}$$
*   **특징**: 오류가 처음 발생할 때 감점 폭이 크며(첫 오류 시 -20점), 오류가 누적될수록 감점 폭이 줄어들며 0점에 수렴합니다.
*   **장점**: 단 1건의 오류로 점수가 0점이 되는 '점수 절벽' 현상을 방지합니다.

---

## 3. 특수 상태 표시

*   **N/A (Not Applicable)**: 페이지 내에 해당 지침의 검사 대상이 하나도 없는 경우 표시됩니다.
*   **수동 검사 필요**: 자동화 알고리즘이 '오류'는 찾지 못했으나, '검토 필요' 항목이 남아있어 전문가의 최종 판정이 필요한 경우 점수 대신 표시됩니다.
*   **(수동)**: 전문가가 자동 계산된 점수를 무시하고 직접 점수를 입력(Override)한 경우 표시됩니다.
